$timeline-border-color: $steel;

.no-events {
  @include alert($bg: $warning-color);
  margin-top: 5px;
}

#timeline {
  //@include grid-row;
  //@media #{$xlarge-up} { 
  //  max-width: rem-calc(1300);
  //}
  .timeline-events {
    @include grid-row;
  }

  h1.academic-year {
    @include grid-column(12);
    @include radius;
    background: #44a;
    font-size: $h3-font-size;
    color: $white;
    padding: 5px 1ex;
    margin: 5px 0;
    cursor: pointer;
  }

  leap-timeline-event {
    * { transition: 0.3s ease all }
    &.first .timeline-event { @include side-radius(top) }
    &.last  .timeline-event { @include side-radius(bottom) }
    .timeline-event {
      @extend .category-background;
      @include grid-column(12, $collapse: true);
      //@media #{$xlarge-up} { @include grid-column(6, $collapse: true) }
      transition: 0.5s ease all;
      margin-bottom: 1px;
      >.main,.extra-info { @include radius }
      &:hover * { transition: 0.2s ease background-color }
      &.extended {
        padding-bottom: 0;
        @include radius;
        margin: 2rem 0;
        .content { padding: 0 }
        .tabs {
          dd a {
            background: $white;
            opacity: 0.8;
            color: $oil;
          }
        }
        .tabs dd.active a {
          background: $white;
          opacity: 0.6;
        }
        .tabs-content { margin-bottom: 0 }
      }
      .main { 
        @include grid-row;
        .time,.date {min-height:1px}
        cursor: pointer;
        .date { 
          @include radius;
          text-align: center;  
        }
        .icon { 
          font-size: 2.5rem;
          text-align: center;
          img {width: 85%; height: auto}
        }
        .body {
          h1 { font-size: $h3-font-size }
          p { margin-bottom: 0 }
        }
        @media #{$small-up} {
          .about-person{ 
            @include grid-column(2);
            .name { display: block }                  
            img   { display: block }
          }
          .date { @include grid-column(1, $collapse: true) }
          .icon { @include grid-column(2, $collapse: true) }
          .time             { display: none }
          .body             { @include grid-column(8) }
          .about-person~.body { @include grid-column(6) }
        }
        @media #{$medium-up} {
          .date { @include grid-column(1, $collapse: true) }
          .icon { @include grid-column(1, $collapse: true) }
          .time             { display: none }
          .body             { @include grid-column(9) }
          .about-person~.body { @include grid-column(7) }
        }
        @media #{$large-up} {
          .about-person{ 
            img { @include grid-column(6) }
            .name { 
              @include grid-column(6,$collapse:true);
              font-size: $h3-font-size 
            }                  
          }
          .date { 
            @include grid-column(1,$collapse: true); 
            h3 { font-size: $h3-font-size }
            }
          .time             { @include grid-column(1) }
          .body             { @include grid-column(9) }
          .about-person~.body { @include grid-column(6) }
        }
        @media #{$large-up} {
          .icon { font-size: 3rem }
        }
      }
      &.child .main {
        .date { 
          background: white;
          h3 { color: $oil }
        }
      }
      leap-event-form form { border-bottom-left-radius: $global-radius }
      .extra-info {
        padding-top: 10px;
        @include grid-row;
        .count { display: inline }
        @media #{$small-up}  { 
          ng-pluralize { display: none }
          a { @include grid-column(4) }
          a:first-child { @include grid-column(4,$offset:3) }
        }
        @media #{$medium-up} { 
          ng-pluralize { display: inline}
          a { @include grid-column(4) }
          a:first-child { @include grid-column(4,$offset:2) }
        }
      }
    }
  }

  .tiles {
    @include grid-row
  }

  leap-tile {
    @extend .category-background;
    overflow: hidden;
    position: relative;
    width: 200px;
    height: 200px;
    float: left;
    border-right: 1px $body-bg solid;
    border-top: 1px $body-bg solid;

    .background {
      overflow: hidden;
      i {
        position: absolute;
        font-size: 125px;
        bottom: 0px;
        right: 8px;
        color: $white;
        opacity: 0.4;
      }
    }

    .foreground {
      margin: 8px;
      h1 {
        color: $white;
        font-weight: bold;
        font-size: 23px;
        margin-bottom: 8px;
        &:not(.wrap) {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
      }
    }
  }
}

#add-event-button {
  @include button($radius: true,$padding: 0.5rem);
  position: fixed;
  bottom: 3%;
  right: 3%;
  text-align: center;
  font-size: 1.2rem;
  z-index: 15;
  transition: 0.5s ease all;
  &.off-canvas { bottom: -100% }
  i {
    display:block;
    font-size: 4rem;
  }
}

#timeline-controls {
  z-index: 250;
  position:fixed;
  width: 100%;
  bottom: 0;
  left:0;
  right:0;
  margin-bottom: 0;
  background: $steel;
  transition: 0.5s ease all;
  .content { padding: 0 }
  .tabs-content { margin-bottom: 0 }
  * {
    transition: 0.5s ease background-color;
  }
  &.off-canvas { bottom: -100% }
  .tabbable{
    @include grid-row;
    h1,h2,h3,h4,h5 { color: $white }
    .tabs {
      @include grid-column(12);
      dd a {
        background: $white;
        opacity: 0.8;
      }
    }
    .tabs dd.active a {
      background: $white;
      opacity: 0.6;
      color: $oil;
    }
  }
  &:not(.off-canvas) {
    @media #{$small-only} { top: 0 }
    @media #{$medium-up}  { box-shadow: 0 0 3px 5px $black }
  }
  ._720kb-datepicker-calendar { bottom: 100% }
}

leap-event-form { 
  form {
    @include clearfix;
    @extend .category-background;
    clear:both;
    padding-top: 1rem;
    .alert-box { @include grid-column(12) }
    .event-form-main{
      @include grid-column(10);
    }
    .category-select {
      a { display: block }
      @include grid-column(2);
      @media #{$medium-up} { 
        h4 { float: right }
      }
    }
  }
}
